{"ast":null,"code":"import _regeneratorRuntime from\"/home/vincentarmant/workspace/nodejs/react-restapi-call/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/vincentarmant/workspace/nodejs/react-restapi-call/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/vincentarmant/workspace/nodejs/react-restapi-call/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';// import axios from 'axios';\nimport{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var UcmmKgCall=function UcmmKgCall(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),bindings=_useState2[0],setBindings=_useState2[1];useEffect(function(){fetchData('http://13.38.36.148:8080/rdf4j-server/repositories/ucmm_instance_graph','query=select * where {?s ?p ?o} limit 10');},[]);var requestOptions={method:\"Post\",headers:{\"Content-Type\":\"application/json\",\"Accept\":\"application/json\"}};var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(url,d){var response,jsonData;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch(url,{method:\"POST\",// mode: \"no-cors\",\ncredentials:\"same-origin\",headers:{\"Content-Type\":'application/x-www-form-urlencoded',\"xhrFields\":{withCredentials:true},\"Accept\":\"application/json\"},redirect:\"follow\",referrerPolicy:\"no-referrer\",body:d});case 3:response=_context.sent;_context.next=6;return response.json();case 6:jsonData=_context.sent;console.log('jsonData:',jsonData);setBindings(jsonData.bindings);console.log('bindings:',bindings);_context.next=15;break;case 12:_context.prev=12;_context.t0=_context[\"catch\"](0);console.log('Error:',_context.t0);case 15:case\"end\":return _context.stop();}},_callee,null,[[0,12]]);}));return function fetchData(_x,_x2){return _ref.apply(this,arguments);};}();// axios.post(\n//     'http://13.38.36.148:8080/rdf4j-server/repositories/ucmm_instance_graph',\n//       this.requestOptions ).then(\n//     res =>{\n//         console.log(\"res\")\n//         console.log(res)\n//         console.log(\"res.data\")\n//         console.log(res.data)\n//         const triples = res.data;\n//         this.setState({triples});\n//     }\n// )\nreturn/*#__PURE__*/_jsx(\"div\",{children:bindings?/*#__PURE__*/_jsx(\"ul\",{children:bindings.map(function(triple){return/*#__PURE__*/_jsxs(\"li\",{children:[\" \",triple.o.value,\" \"]});})}):/*#__PURE__*/_jsx(\"p\",{children:\"Loading...\"})});};export default UcmmKgCall;","map":{"version":3,"names":["React","useState","useEffect","jsxs","_jsxs","jsx","_jsx","UcmmKgCall","_useState","_useState2","_slicedToArray","bindings","setBindings","fetchData","requestOptions","method","headers","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","url","d","response","jsonData","wrap","_callee$","_context","prev","next","fetch","credentials","withCredentials","redirect","referrerPolicy","body","sent","json","console","log","t0","stop","_x","_x2","apply","arguments","children","map","triple","o","value"],"sources":["/home/vincentarmant/workspace/nodejs/react-restapi-call/src/components/UcmmKgCall.js"],"sourcesContent":["import React, {useState,useEffect} from 'react';\n// import axios from 'axios';\n\nconst  UcmmKgCall = () => {\n\n    const [bindings, setBindings] = useState([]);\n    \n    useEffect(() => {\n        fetchData(\n            'http://13.38.36.148:8080/rdf4j-server/repositories/ucmm_instance_graph',\n            'query=select * where {?s ?p ?o} limit 10'\n        );\n    }, []);\n\n    const requestOptions ={\n        method: \"Post\",\n        headers: {\n            \"Content-Type\" : \"application/json\",\n            \"Accept\" : \"application/json\"\n        },\n        \n    };\n\n    const fetchData  = async (url, d ) => {\n        try {   \n            \n            const response = await fetch(url,{\n                method: \"POST\",\n                // mode: \"no-cors\",\n                credentials: \"same-origin\",\n                headers:{\n                    \"Content-Type\": 'application/x-www-form-urlencoded',\n                    \"xhrFields\": {withCredentials: true},\n                     \"Accept\" : \"application/json\",\n                },\n                redirect: \"follow\",\n                referrerPolicy: \"no-referrer\",\n                body: d\n            }\n            )            \n            \n            const jsonData = await response.json();\n\n\n            console.log('jsonData:',jsonData);\n\n            \n            setBindings(jsonData.bindings);\n            \n            console.log('bindings:', bindings);\n\n        } catch (error) {\n            console.log('Error:', error);\n        }\n    }\n\n\n   \n\n\n        // axios.post(\n        //     'http://13.38.36.148:8080/rdf4j-server/repositories/ucmm_instance_graph',\n        //       this.requestOptions ).then(\n        //     res =>{\n        //         console.log(\"res\")\n        //         console.log(res)\n\n        //         console.log(\"res.data\")\n        //         console.log(res.data)\n\n        //         const triples = res.data;\n        //         this.setState({triples});\n        //     }\n        // )\n    \n\n\n        return(\n        <div>\n            {bindings ? (\n               \n                <ul>\n                    {bindings.map(triple => <li> {triple.o.value} </li>)}\n                </ul>\n                    \n            ) : (\n                <p>Loading...</p>\n            )}\n        </div>\n        );\n    \n};\n\nexport default UcmmKgCall;\n"],"mappings":"ubAAA,MAAO,CAAAA,KAAK,EAAGC,QAAQ,CAACC,SAAS,KAAO,OAAO,CAC/C;AAAA,OAAAC,IAAA,IAAAC,KAAA,gCAAAC,GAAA,IAAAC,IAAA,yBAEA,GAAO,CAAAC,UAAU,CAAG,QAAb,CAAAA,UAAUA,CAAA,CAAS,CAEtB,IAAAC,SAAA,CAAgCP,QAAQ,CAAC,EAAE,CAAC,CAAAQ,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAArCG,QAAQ,CAAAF,UAAA,IAAEG,WAAW,CAAAH,UAAA,IAE5BP,SAAS,CAAC,UAAM,CACZW,SAAS,CACL,wEAAwE,CACxE,0CACJ,CAAC,CACL,CAAC,CAAE,EAAE,CAAC,CAEN,GAAM,CAAAC,cAAc,CAAE,CAClBC,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACL,cAAc,CAAG,kBAAkB,CACnC,QAAQ,CAAG,kBACf,CAEJ,CAAC,CAED,GAAM,CAAAH,SAAS,6BAAAI,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAI,SAAAC,QAAOC,GAAG,CAAEC,CAAC,MAAAC,QAAA,CAAAC,QAAA,QAAAN,mBAAA,GAAAO,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA,SAGD,CAAAC,KAAK,CAACT,GAAG,CAAC,CAC7BP,MAAM,CAAE,MAAM,CACd;AACAiB,WAAW,CAAE,aAAa,CAC1BhB,OAAO,CAAC,CACJ,cAAc,CAAE,mCAAmC,CACnD,WAAW,CAAE,CAACiB,eAAe,CAAE,IAAI,CAAC,CACnC,QAAQ,CAAG,kBAChB,CAAC,CACDC,QAAQ,CAAE,QAAQ,CAClBC,cAAc,CAAE,aAAa,CAC7BC,IAAI,CAAEb,CACV,CACA,CAAC,QAbKC,QAAQ,CAAAI,QAAA,CAAAS,IAAA,CAAAT,QAAA,CAAAE,IAAA,SAeS,CAAAN,QAAQ,CAACc,IAAI,CAAC,CAAC,QAAhCb,QAAQ,CAAAG,QAAA,CAAAS,IAAA,CAGdE,OAAO,CAACC,GAAG,CAAC,WAAW,CAACf,QAAQ,CAAC,CAGjCb,WAAW,CAACa,QAAQ,CAACd,QAAQ,CAAC,CAE9B4B,OAAO,CAACC,GAAG,CAAC,WAAW,CAAE7B,QAAQ,CAAC,CAACiB,QAAA,CAAAE,IAAA,kBAAAF,QAAA,CAAAC,IAAA,IAAAD,QAAA,CAAAa,EAAA,CAAAb,QAAA,aAGnCW,OAAO,CAACC,GAAG,CAAC,QAAQ,CAAAZ,QAAA,CAAAa,EAAO,CAAC,CAAC,yBAAAb,QAAA,CAAAc,IAAA,MAAArB,OAAA,iBAEpC,kBA/BK,CAAAR,SAASA,CAAA8B,EAAA,CAAAC,GAAA,SAAA3B,IAAA,CAAA4B,KAAA,MAAAC,SAAA,OA+Bd,CAMG;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AAIA,mBACAxC,IAAA,QAAAyC,QAAA,CACKpC,QAAQ,cAELL,IAAA,OAAAyC,QAAA,CACKpC,QAAQ,CAACqC,GAAG,CAAC,SAAAC,MAAM,qBAAI7C,KAAA,OAAA2C,QAAA,EAAI,GAAC,CAACE,MAAM,CAACC,CAAC,CAACC,KAAK,CAAC,GAAC,EAAI,CAAC,GAAC,CACpD,CAAC,cAGL7C,IAAA,MAAAyC,QAAA,CAAG,YAAU,CAAG,CACnB,CACA,CAAC,CAGd,CAAC,CAED,cAAe,CAAAxC,UAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}