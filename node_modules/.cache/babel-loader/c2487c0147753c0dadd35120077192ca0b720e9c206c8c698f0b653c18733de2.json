{"ast":null,"code":"import _regeneratorRuntime from\"/home/vincentarmant/workspace/nodejs/react-restapi-call/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/vincentarmant/workspace/nodejs/react-restapi-call/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _classCallCheck from\"/home/vincentarmant/workspace/nodejs/react-restapi-call/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/home/vincentarmant/workspace/nodejs/react-restapi-call/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/home/vincentarmant/workspace/nodejs/react-restapi-call/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/home/vincentarmant/workspace/nodejs/react-restapi-call/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React from'react';// import axios from 'axios';\nimport{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var UcmmKgCall=/*#__PURE__*/function(_React$Component){_inherits(UcmmKgCall,_React$Component);var _super=_createSuper(UcmmKgCall);function UcmmKgCall(){var _this;_classCallCheck(this,UcmmKgCall);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={triples:[]};_this.requestOptions={method:\"Post\",headers:{\"Content-Type\":\"application/json\",\"Accept\":\"application/json\"}};return _this;}_createClass(UcmmKgCall,[{key:\"fetchData\",value:function(){var _fetchData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(url,d){var response,jsonData,triples;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch(url,{method:\"POST\",// mode: \"no-cors\",\ncredentials:\"same-origin\",headers:{\"Content-Type\":'application/x-www-form-urlencoded',\"xhrFields\":{withCredentials:true},\"Accept\":\"application/json\"},redirect:\"follow\",referrerPolicy:\"no-referrer\",body:d});case 3:response=_context.sent;_context.next=6;return response.json();case 6:jsonData=_context.sent;console.log('jsonData:',jsonData);triples=jsonData.bindings;this.setState({data:triples});_context.next=15;break;case 12:_context.prev=12;_context.t0=_context[\"catch\"](0);console.log('Error:',_context.t0);case 15:case\"end\":return _context.stop();}},_callee,this,[[0,12]]);}));function fetchData(_x,_x2){return _fetchData.apply(this,arguments);}return fetchData;}()},{key:\"componentDidMount\",value:function componentDidMount(){this.fetchData('http://13.38.36.148:8080/rdf4j-server/repositories/ucmm_instance_graph','query=select * where {?s ?p ?o} limit 10');// axios.post(\n//     'http://13.38.36.148:8080/rdf4j-server/repositories/ucmm_instance_graph',\n//       this.requestOptions ).then(\n//     res =>{\n//         console.log(\"res\")\n//         console.log(res)\n//         console.log(\"res.data\")\n//         console.log(res.data)\n//         const triples = res.data;\n//         this.setState({triples});\n//     }\n// )\n}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(\"div\",{children:this.state.data?/*#__PURE__*/_jsx(\"ul\",{children:this.state.data.map(function(triple){return/*#__PURE__*/_jsxs(\"ui\",{children:[\" \",triple.o.value,\" \"]});})}):/*#__PURE__*/_jsx(\"p\",{children:\"Loading...\"})});}}]);return UcmmKgCall;}(React.Component);export{UcmmKgCall as default};","map":{"version":3,"names":["React","jsxs","_jsxs","jsx","_jsx","UcmmKgCall","_React$Component","_inherits","_super","_createSuper","_this","_classCallCheck","_len","arguments","length","args","Array","_key","call","apply","concat","state","triples","requestOptions","method","headers","_createClass","key","value","_fetchData","_asyncToGenerator","_regeneratorRuntime","mark","_callee","url","d","response","jsonData","wrap","_callee$","_context","prev","next","fetch","credentials","withCredentials","redirect","referrerPolicy","body","sent","json","console","log","bindings","setState","data","t0","stop","fetchData","_x","_x2","componentDidMount","render","children","map","triple","o","Component","default"],"sources":["/home/vincentarmant/workspace/nodejs/react-restapi-call/src/components/UcmmKgCall.js"],"sourcesContent":["import React from 'react';\n// import axios from 'axios';\n\nexport default class UcmmKgCall extends React.Component{\n\n    state = { \n        triples : []\n    };\n\n    requestOptions ={\n        method: \"Post\",\n        headers: {\n            \"Content-Type\" : \"application/json\",\n            \"Accept\" : \"application/json\"\n        },\n        \n    };\n\n    async fetchData (url, d ) {\n        try {   \n            \n            const response = await fetch(url,{\n                method: \"POST\",\n                // mode: \"no-cors\",\n                credentials: \"same-origin\",\n                headers:{\n                    \"Content-Type\": 'application/x-www-form-urlencoded',\n                    \"xhrFields\": {withCredentials: true},\n                     \"Accept\" : \"application/json\",\n                },\n                redirect: \"follow\",\n                referrerPolicy: \"no-referrer\",\n                body: d\n            }\n            )            \n            \n            const jsonData = await response.json();\n            console.log('jsonData:',jsonData);\n\n            const triples = jsonData.bindings;\n            this.setState({data : triples});\n            \n\n\n        } catch (error) {\n            console.log('Error:', error);\n        }\n    }\n\n\n    componentDidMount(){\n\n        this.fetchData(\n            'http://13.38.36.148:8080/rdf4j-server/repositories/ucmm_instance_graph',\n            'query=select * where {?s ?p ?o} limit 10'\n        );\n\n\n        // axios.post(\n        //     'http://13.38.36.148:8080/rdf4j-server/repositories/ucmm_instance_graph',\n        //       this.requestOptions ).then(\n        //     res =>{\n        //         console.log(\"res\")\n        //         console.log(res)\n\n        //         console.log(\"res.data\")\n        //         console.log(res.data)\n\n        //         const triples = res.data;\n        //         this.setState({triples});\n        //     }\n        // )\n    }\n\n    render(){\n        return(\n        <div>\n            {this.state.data ? (\n               \n                <ul>\n                    {this.state.data.map(triple => <ui> {triple.o.value} </ui>)}\n                </ul>\n                    \n            ) : (\n                <p>Loading...</p>\n            )}\n        </div>\n        )\n    }\n    \n    \n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}