{"ast":null,"code":"import _regeneratorRuntime from\"/home/vincentarmant/workspace/nodejs/react-restapi-call/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/vincentarmant/workspace/nodejs/react-restapi-call/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/vincentarmant/workspace/nodejs/react-restapi-call/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var FetchUcmmtKg=function FetchUcmmtKg(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];useEffect(function(){fetchData('http://13.38.36.148:8080/rdf4j-server/repositories/ucmm_instance_graph','query=select * where {?s ?p ?o} limit 10');},[]);var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(url,d){var response,jsonData,formData;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch(url,{method:\"POST\",// mode: \"no-cors\",\ncredentials:\"same-origin\",headers:{\"Content-Type\":'application/x-www-form-urlencoded',\"xhrFields\":{withCredentials:true},\"Accept\":\"application/json\"},redirect:\"follow\",referrerPolicy:\"no-referrer\",body:d});case 3:response=_context.sent;console.log('response:',response);// const textData = await response.text();\n// console.log('textData:',textData);\n_context.next=7;return response.json();case 7:jsonData=_context.sent;console.log('jsonData:',jsonData);_context.next=11;return response.formData();case 11:formData=_context.sent;console.log('formData:',formData);setData(jsonData);_context.next=19;break;case 16:_context.prev=16;_context.t0=_context[\"catch\"](0);console.log('Error:',_context.t0);case 19:case\"end\":return _context.stop();}},_callee,null,[[0,16]]);}));return function fetchData(_x,_x2){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{children:data?/*#__PURE__*/_jsx(\"ul\",{children:data.map(function(triple){return/*#__PURE__*/_jsxs(\"ui\",{children:[\" \",triple,\" \"]});})})// <table>\n//     <tr>\n//         <th>Id</th>\n//         <th>Name</th>\n//         <th>Email</th>\n//         <th>Phone</th>\n//         <th>Website</th>\n//     </tr>\n//     {data.map((item) => (\n//         <tr key={item.id}>\n//             <td>{item.id}</td>\n//             <td>{item.name}</td>\n//             <td>{item.email}</td>\n//             <td>{item.phone}</td>\n//             <td>{item.website}</td>\n//         </tr>\n//     ))}\n// </table>\n:/*#__PURE__*/_jsx(\"p\",{children:\"Loading...\"})});};export default FetchUcmmtKg;","map":{"version":3,"names":["React","useEffect","useState","jsxs","_jsxs","jsx","_jsx","FetchUcmmtKg","_useState","_useState2","_slicedToArray","data","setData","fetchData","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","url","d","response","jsonData","formData","wrap","_callee$","_context","prev","next","fetch","method","credentials","headers","withCredentials","redirect","referrerPolicy","body","sent","console","log","json","t0","stop","_x","_x2","apply","arguments","children","map","triple"],"sources":["/home/vincentarmant/workspace/nodejs/react-restapi-call/src/components/FetchUcmmKg.js"],"sourcesContent":["import React, {useEffect, useState} from 'react';\n\nconst FetchUcmmtKg = () => {\n    const [data, setData] = useState(null);\n\n    useEffect(() => {\n        fetchData(\n            'http://13.38.36.148:8080/rdf4j-server/repositories/ucmm_instance_graph',\n            'query=select * where {?s ?p ?o} limit 10'\n        );\n    }, []);\n\n    const fetchData = async (url, d ) => {\n        try {\n            \n            const response = await fetch(url,{\n                method: \"POST\",\n                // mode: \"no-cors\",\n                credentials: \"same-origin\",\n                headers:{\n                    \"Content-Type\": 'application/x-www-form-urlencoded',\n                    \"xhrFields\": {withCredentials: true},\n                     \"Accept\" : \"application/json\",\n                },\n                redirect: \"follow\",\n                referrerPolicy: \"no-referrer\",\n                body: d\n            }\n            );\n            console.log('response:', response);\n            \n            // const textData = await response.text();\n            // console.log('textData:',textData);\n\n            const jsonData = await response.json();\n            console.log('jsonData:',jsonData);\n\n            const formData = await response.formData();\n            console.log('formData:',formData);\n\n            setData(jsonData)\n            \n\n        } catch (error) {\n            console.log('Error:', error);\n        }\n    };\n\n    return (\n        <div>\n            {data ? (\n\n                <ul>\n                {data.map(triple => <ui> {triple} </ui>)}\n                </ul>\n                // <table>\n                //     <tr>\n                //         <th>Id</th>\n                //         <th>Name</th>\n                //         <th>Email</th>\n                //         <th>Phone</th>\n                //         <th>Website</th>\n                //     </tr>\n                //     {data.map((item) => (\n\n                //         <tr key={item.id}>\n\n                //             <td>{item.id}</td>\n                //             <td>{item.name}</td>\n                //             <td>{item.email}</td>\n                //             <td>{item.phone}</td>\n                //             <td>{item.website}</td>\n\n                //         </tr>\n\n                //     ))}\n                // </table>\n            ) : (\n                <p>Loading...</p>\n            )}\n        </div>\n    );\n};\n\nexport default FetchUcmmtKg;"],"mappings":"ubAAA,MAAO,CAAAA,KAAK,EAAGC,SAAS,CAAEC,QAAQ,KAAO,OAAO,CAAC,OAAAC,IAAA,IAAAC,KAAA,gCAAAC,GAAA,IAAAC,IAAA,yBAEjD,GAAM,CAAAC,YAAY,CAAG,QAAf,CAAAA,YAAYA,CAAA,CAAS,CACvB,IAAAC,SAAA,CAAwBN,QAAQ,CAAC,IAAI,CAAC,CAAAO,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAA/BG,IAAI,CAAAF,UAAA,IAAEG,OAAO,CAAAH,UAAA,IAEpBR,SAAS,CAAC,UAAM,CACZY,SAAS,CACL,wEAAwE,CACxE,0CACJ,CAAC,CACL,CAAC,CAAE,EAAE,CAAC,CAEN,GAAM,CAAAA,SAAS,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAOC,GAAG,CAAEC,CAAC,MAAAC,QAAA,CAAAC,QAAA,CAAAC,QAAA,QAAAP,mBAAA,GAAAQ,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA,SAGA,CAAAC,KAAK,CAACV,GAAG,CAAC,CAC7BW,MAAM,CAAE,MAAM,CACd;AACAC,WAAW,CAAE,aAAa,CAC1BC,OAAO,CAAC,CACJ,cAAc,CAAE,mCAAmC,CACnD,WAAW,CAAE,CAACC,eAAe,CAAE,IAAI,CAAC,CACnC,QAAQ,CAAG,kBAChB,CAAC,CACDC,QAAQ,CAAE,QAAQ,CAClBC,cAAc,CAAE,aAAa,CAC7BC,IAAI,CAAEhB,CACV,CACA,CAAC,QAbKC,QAAQ,CAAAK,QAAA,CAAAW,IAAA,CAcdC,OAAO,CAACC,GAAG,CAAC,WAAW,CAAElB,QAAQ,CAAC,CAElC;AACA;AAAAK,QAAA,CAAAE,IAAA,SAEuB,CAAAP,QAAQ,CAACmB,IAAI,CAAC,CAAC,QAAhClB,QAAQ,CAAAI,QAAA,CAAAW,IAAA,CACdC,OAAO,CAACC,GAAG,CAAC,WAAW,CAACjB,QAAQ,CAAC,CAACI,QAAA,CAAAE,IAAA,UAEX,CAAAP,QAAQ,CAACE,QAAQ,CAAC,CAAC,SAApCA,QAAQ,CAAAG,QAAA,CAAAW,IAAA,CACdC,OAAO,CAACC,GAAG,CAAC,WAAW,CAAChB,QAAQ,CAAC,CAEjCX,OAAO,CAACU,QAAQ,CAAC,CAAAI,QAAA,CAAAE,IAAA,kBAAAF,QAAA,CAAAC,IAAA,IAAAD,QAAA,CAAAe,EAAA,CAAAf,QAAA,aAIjBY,OAAO,CAACC,GAAG,CAAC,QAAQ,CAAAb,QAAA,CAAAe,EAAO,CAAC,CAAC,yBAAAf,QAAA,CAAAgB,IAAA,MAAAxB,OAAA,iBAEpC,kBAlCK,CAAAL,SAASA,CAAA8B,EAAA,CAAAC,GAAA,SAAA9B,IAAA,CAAA+B,KAAA,MAAAC,SAAA,OAkCd,CAED,mBACIxC,IAAA,QAAAyC,QAAA,CACKpC,IAAI,cAEDL,IAAA,OAAAyC,QAAA,CACCpC,IAAI,CAACqC,GAAG,CAAC,SAAAC,MAAM,qBAAI7C,KAAA,OAAA2C,QAAA,EAAI,GAAC,CAACE,MAAM,CAAC,GAAC,EAAI,CAAC,GAAC,CACpC,CACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AAAA,cAEA3C,IAAA,MAAAyC,QAAA,CAAG,YAAU,CAAG,CACnB,CACA,CAAC,CAEd,CAAC,CAED,cAAe,CAAAxC,YAAY"},"metadata":{},"sourceType":"module","externalDependencies":[]}