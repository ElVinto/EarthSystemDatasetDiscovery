{"ast":null,"code":"import _regeneratorRuntime from\"/home/vincentarmant/workspace/nodejs/react-restapi-call/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/vincentarmant/workspace/nodejs/react-restapi-call/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/vincentarmant/workspace/nodejs/react-restapi-call/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";var _this=this;import React,{useState}from'react';// import axios from 'axios';\nimport{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var UcmmKgCall=function UcmmKgCall(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),bindings=_useState2[0],setBindings=_useState2[1];var requestOptions={method:\"Post\",headers:{\"Content-Type\":\"application/json\",\"Accept\":\"application/json\"}};var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(url,d){var response,jsonData;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch(url,{method:\"POST\",// mode: \"no-cors\",\ncredentials:\"same-origin\",headers:{\"Content-Type\":'application/x-www-form-urlencoded',\"xhrFields\":{withCredentials:true},\"Accept\":\"application/json\"},redirect:\"follow\",referrerPolicy:\"no-referrer\",body:d});case 3:response=_context.sent;_context.next=6;return response.json();case 6:jsonData=_context.sent;console.log('jsonData:',jsonData);setBindings(jsonData.bindings);console.log('bindings:',bindings);_context.next=15;break;case 12:_context.prev=12;_context.t0=_context[\"catch\"](0);console.log('Error:',_context.t0);case 15:case\"end\":return _context.stop();}},_callee,null,[[0,12]]);}));return function fetchData(_x,_x2){return _ref.apply(this,arguments);};}();var componentDidMount=function componentDidMount(){_this.fetchData('http://13.38.36.148:8080/rdf4j-server/repositories/ucmm_instance_graph','query=select * where {?s ?p ?o} limit 10');// axios.post(\n//     'http://13.38.36.148:8080/rdf4j-server/repositories/ucmm_instance_graph',\n//       this.requestOptions ).then(\n//     res =>{\n//         console.log(\"res\")\n//         console.log(res)\n//         console.log(\"res.data\")\n//         console.log(res.data)\n//         const triples = res.data;\n//         this.setState({triples});\n//     }\n// )\n};var render=function render(){return/*#__PURE__*/_jsx(\"div\",{children:bindings?/*#__PURE__*/_jsx(\"ul\",{children:bindings.map(function(triple){return/*#__PURE__*/_jsxs(\"li\",{children:[\" \",triple.o.value,\" \"]});})}):/*#__PURE__*/_jsx(\"p\",{children:\"Loading...\"})});};};export default UcmmKgCall;","map":{"version":3,"names":["React","useState","jsxs","_jsxs","jsx","_jsx","UcmmKgCall","_useState","_useState2","_slicedToArray","bindings","setBindings","requestOptions","method","headers","fetchData","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","url","d","response","jsonData","wrap","_callee$","_context","prev","next","fetch","credentials","withCredentials","redirect","referrerPolicy","body","sent","json","console","log","t0","stop","_x","_x2","apply","arguments","componentDidMount","_this","render","children","map","triple","o","value"],"sources":["/home/vincentarmant/workspace/nodejs/react-restapi-call/src/components/UcmmKgCall.js"],"sourcesContent":["import React, {useState} from 'react';\n// import axios from 'axios';\n\nconst  UcmmKgCall = () => {\n\n    const [bindings, setBindings] = useState([]);\n    \n\n    const requestOptions ={\n        method: \"Post\",\n        headers: {\n            \"Content-Type\" : \"application/json\",\n            \"Accept\" : \"application/json\"\n        },\n        \n    };\n\n    const fetchData  = async (url, d ) => {\n        try {   \n            \n            const response = await fetch(url,{\n                method: \"POST\",\n                // mode: \"no-cors\",\n                credentials: \"same-origin\",\n                headers:{\n                    \"Content-Type\": 'application/x-www-form-urlencoded',\n                    \"xhrFields\": {withCredentials: true},\n                     \"Accept\" : \"application/json\",\n                },\n                redirect: \"follow\",\n                referrerPolicy: \"no-referrer\",\n                body: d\n            }\n            )            \n            \n            const jsonData = await response.json();\n            console.log('jsonData:',jsonData);\n\n            \n            setBindings(jsonData.bindings);\n            \n            console.log('bindings:', bindings);\n\n        } catch (error) {\n            console.log('Error:', error);\n        }\n    }\n\n\n    const componentDidMount = () => {\n\n        this.fetchData(\n            'http://13.38.36.148:8080/rdf4j-server/repositories/ucmm_instance_graph',\n            'query=select * where {?s ?p ?o} limit 10'\n        );\n\n\n        // axios.post(\n        //     'http://13.38.36.148:8080/rdf4j-server/repositories/ucmm_instance_graph',\n        //       this.requestOptions ).then(\n        //     res =>{\n        //         console.log(\"res\")\n        //         console.log(res)\n\n        //         console.log(\"res.data\")\n        //         console.log(res.data)\n\n        //         const triples = res.data;\n        //         this.setState({triples});\n        //     }\n        // )\n    }\n\n    const render =() =>{\n        return(\n        <div>\n            {bindings ? (\n               \n                <ul>\n                    {bindings.map(triple => <li> {triple.o.value} </li>)}\n                </ul>\n                    \n            ) : (\n                <p>Loading...</p>\n            )}\n        </div>\n        )\n    }\n    \n    \n}\n\nexport default UcmmKgCall;\n"],"mappings":"scAAA,MAAO,CAAAA,KAAK,EAAGC,QAAQ,KAAO,OAAO,CACrC;AAAA,OAAAC,IAAA,IAAAC,KAAA,gCAAAC,GAAA,IAAAC,IAAA,yBAEA,GAAO,CAAAC,UAAU,CAAG,QAAb,CAAAA,UAAUA,CAAA,CAAS,CAEtB,IAAAC,SAAA,CAAgCN,QAAQ,CAAC,EAAE,CAAC,CAAAO,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAArCG,QAAQ,CAAAF,UAAA,IAAEG,WAAW,CAAAH,UAAA,IAG5B,GAAM,CAAAI,cAAc,CAAE,CAClBC,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACL,cAAc,CAAG,kBAAkB,CACnC,QAAQ,CAAG,kBACf,CAEJ,CAAC,CAED,GAAM,CAAAC,SAAS,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAI,SAAAC,QAAOC,GAAG,CAAEC,CAAC,MAAAC,QAAA,CAAAC,QAAA,QAAAN,mBAAA,GAAAO,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA,SAGD,CAAAC,KAAK,CAACT,GAAG,CAAC,CAC7BR,MAAM,CAAE,MAAM,CACd;AACAkB,WAAW,CAAE,aAAa,CAC1BjB,OAAO,CAAC,CACJ,cAAc,CAAE,mCAAmC,CACnD,WAAW,CAAE,CAACkB,eAAe,CAAE,IAAI,CAAC,CACnC,QAAQ,CAAG,kBAChB,CAAC,CACDC,QAAQ,CAAE,QAAQ,CAClBC,cAAc,CAAE,aAAa,CAC7BC,IAAI,CAAEb,CACV,CACA,CAAC,QAbKC,QAAQ,CAAAI,QAAA,CAAAS,IAAA,CAAAT,QAAA,CAAAE,IAAA,SAeS,CAAAN,QAAQ,CAACc,IAAI,CAAC,CAAC,QAAhCb,QAAQ,CAAAG,QAAA,CAAAS,IAAA,CACdE,OAAO,CAACC,GAAG,CAAC,WAAW,CAACf,QAAQ,CAAC,CAGjCb,WAAW,CAACa,QAAQ,CAACd,QAAQ,CAAC,CAE9B4B,OAAO,CAACC,GAAG,CAAC,WAAW,CAAE7B,QAAQ,CAAC,CAACiB,QAAA,CAAAE,IAAA,kBAAAF,QAAA,CAAAC,IAAA,IAAAD,QAAA,CAAAa,EAAA,CAAAb,QAAA,aAGnCW,OAAO,CAACC,GAAG,CAAC,QAAQ,CAAAZ,QAAA,CAAAa,EAAO,CAAC,CAAC,yBAAAb,QAAA,CAAAc,IAAA,MAAArB,OAAA,iBAEpC,kBA7BK,CAAAL,SAASA,CAAA2B,EAAA,CAAAC,GAAA,SAAA3B,IAAA,CAAA4B,KAAA,MAAAC,SAAA,OA6Bd,CAGD,GAAM,CAAAC,iBAAiB,CAAG,QAApB,CAAAA,iBAAiBA,CAAA,CAAS,CAE5BC,KAAI,CAAChC,SAAS,CACV,wEAAwE,CACxE,0CACJ,CAAC,CAGD;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACJ,CAAC,CAED,GAAM,CAAAiC,MAAM,CAAE,QAAR,CAAAA,MAAMA,CAAA,CAAO,CACf,mBACA3C,IAAA,QAAA4C,QAAA,CACKvC,QAAQ,cAELL,IAAA,OAAA4C,QAAA,CACKvC,QAAQ,CAACwC,GAAG,CAAC,SAAAC,MAAM,qBAAIhD,KAAA,OAAA8C,QAAA,EAAI,GAAC,CAACE,MAAM,CAACC,CAAC,CAACC,KAAK,CAAC,GAAC,EAAI,CAAC,GAAC,CACpD,CAAC,cAGLhD,IAAA,MAAA4C,QAAA,CAAG,YAAU,CAAG,CACnB,CACA,CAAC,CAEV,CAAC,CAGL,CAAC,CAED,cAAe,CAAA3C,UAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}