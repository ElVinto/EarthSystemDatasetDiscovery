{"ast":null,"code":"import _regeneratorRuntime from\"/home/vincentarmant/workspace/nodejs/react-restapi-call/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _objectSpread from\"/home/vincentarmant/workspace/nodejs/react-restapi-call/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _readOnlyError from\"/home/vincentarmant/workspace/nodejs/react-restapi-call/node_modules/@babel/runtime/helpers/esm/readOnlyError.js\";import _asyncToGenerator from\"/home/vincentarmant/workspace/nodejs/react-restapi-call/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/vincentarmant/workspace/nodejs/react-restapi-call/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import*as d3 from'd3';import{useEffect,useState,useRef}from\"react\";import{RADIUS,drawNetwork}from'./drawNetwork';import React from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function DatasetDiscoveryExplainedGraph(_ref){var kbUri=_ref.kbUri,termInfo=_ref.termInfo,width=_ref.width,height=_ref.height;var prefix2uri={'skos:':'http://www.w3.org/2004/02/skos/core#','sosa:':'http://www.w3.org/ns/sosa/','ucmm:':'http://purl.org/ucmm#','rdf:':'http://www.w3.org/1999/02/22-rdf-syntax-ns#','dcat:':'http://www.w3.org/ns/dcat#','dcterms:':'http://purl.org/dc/terms/','i1:':'http://example.org/b2a5ed57-5c4e-4596-b803-d2ac7f5b9991#','i2:':'http://example.org/51824c86-ae0f-442f-9df2-e86244984ba3#','i3:':'http://example.org/97b4842b-94b3-4205-8781-476813d8177b#','i4:':'http://example.org/e747d804-a5d1-4fd1-bd9b-306a8ebd4904#','i5':'http://example.org/de5b570a-b560-4e84-a755-52c2aa499874#','i6':'<http://example.org/3df904de-e47d-4bf9-85a0-7c0942aff8b6#','i7':'http://example.org/BDML_TCHR#','i8':'http://example.org/4f676524-a831-41fe-9afb-d95f4e7597e3#','i9':'http://example.org/f4968943-ad6f-4563-a737-58fe3285fb3c#','i10':'http://example.org/17e24931-ccd6-4de0-a01c-9ffb3be88461#'};function getPrefixFromUri(resourceUri){Object.entries(prefix2uri).map(function(_ref2){var _ref3=_slicedToArray(_ref2,2),prefixKey=_ref3[0],prefixUri=_ref3[1];if(resourceUri.includes(prefixUri)){return prefixKey;}});return'';}function getPrefixedUri(resourceUri){var prefix=getPrefixFromUri(resourceUri);if(prefix==='')return resourceUri;var prefixUri=prefix2uri.get(prefix);return resourceUri.replace(prefixUri,prefix);}var prefix2group={// THEAI ODATIS FORMATER AERIS\n'i1:':1,'i2:':1,'i3:':1,'i4:':2,'i5:':2,'i6:':2,'i7:':3,'i8:':3,'i9.:':3,'i10:':3};function getGroupFromPrefixedUri(prefixedUri){var prefix=prefixedUri.split(\":\")[0]+\":\";if(!prefix2group[prefix]===undefined){return prefix2group[prefix];}else{return 4;}}var _useState=useState({nodes:[// {\n//     id: String,\n//     group:Int32Array,\n// }\n],links:[// {\n//     source: String,\n//     target: String,\n//     value: Int16Array\n// }\n]}),_useState2=_slicedToArray(_useState,2),d3Graph=_useState2[0],setD3Graph=_useState2[1];// Todo instanciate in case of several graph manipulations\n// const [spod,setSPOD]= useState({\n//     subjects: [],\n//     properties: [],\n//     objects: [],\n//     d3LinkIndexes: [] //\n// });\nfunction xQueryDatasetsFromDescAndTitle(){return\"PREFIX skos: <http://www.w3.org/2004/02/skos/core#>\\n        PREFIX sosa: <http://www.w3.org/ns/sosa/>\\n        PREFIX ucmm: <http://purl.org/ucmm#> \\n        PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> \\n        PREFIX dcat: <http://www.w3.org/ns/dcat#> \\n        PREFIX dcterms: <http://purl.org/dc/terms/> \\n        SELECT DISTINCT ?dataset ?datasetProp ?litMentioningSearchLabel\\n        WHERE{\\n          VALUES ?datasetProp {dcterms:description dcterms:title}\\n          ?dataset rdf:type dcat:Dataset . \\n          ?dataset ?datasetProp ?litMentioningSearchLabel. \\n          FILTER ( \\n            regex(?litMentioningSearchLabel,\\\"\".concat(termInfo.term,\"\\\",\\\"i\\\") \\n          )\\n          FILTER (\\n            lang(?litMentioningSearchLabel)=\\\"en\\\"\\n          )\\n        }\").toString().replace('\\n',' ');}function explainDatasetsFromDescAndTitle(){return _explainDatasetsFromDescAndTitle.apply(this,arguments);}function _explainDatasetsFromDescAndTitle(){_explainDatasetsFromDescAndTitle=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var queryTxt,response,jsonData,subjects,properties,objects,tmpD3Graph;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;console.log();console.log('kbUri : ',kbUri);console.log('termInfo.term : ',termInfo.term);if(termInfo.term){_context.next=6;break;}return _context.abrupt(\"return\");case 6:queryTxt=xQueryDatasetsFromDescAndTitle();_context.next=9;return fetch(kbUri,{method:\"POST\",credentials:\"same-origin\",headers:{\"Content-Type\":'application/x-www-form-urlencoded',\"xhrFields\":{withCredentials:true},\"Accept\":\"application/json\"},redirect:\"follow\",referrerPolicy:\"no-referrer\",body:\"query=\"+queryTxt});case 9:response=_context.sent;_context.next=12;return response.json();case 12:jsonData=_context.sent;console.log('jsonData:',jsonData);subjects=[];properties=[];objects=[];tmpD3Graph=d3Graph;if(jsonData){if(jsonData.results){if(jsonData.results.bindings){if(jsonData.results.bindings.length>0){jsonData.results.bindings.map(function(binding){var datasetNode=getPrefixedUri(binding['dataset']['value']);var datasetProp=getPrefixedUri(binding['datasetProp']['value']);var litMentioningSearchLabel=getPrefixedUri(binding['litMentioningSearchLabel']['value']);var datasetPropNode=datasetNode.substring(0,datasetNode.indexOf(\":\")+1)+datasetProp.substring(0,datasetProp.indexOf(\":\"));if(!tmpD3Graph.nodes.includes(datasetNode)){tmpD3Graph.nodes.push({id:datasetNode,group:getGroupFromPrefixedUri(datasetNode)});}if(!tmpD3Graph.nodes.includes(datasetPropNode)){tmpD3Graph.nodes.push({id:datasetPropNode,group:getGroupFromPrefixedUri(datasetPropNode)});}tmpD3Graph.links.push({source:datasetNode,target:datasetPropNode,value:1});});}}}}console.log('tmpD3Graph:',tmpD3Graph);setD3Graph(tmpD3Graph);_context.next=26;break;case 23:_context.prev=23;_context.t0=_context[\"catch\"](0);console.log('Error:',_context.t0);case 26:case\"end\":return _context.stop();}},_callee,null,[[0,23]]);}));return _explainDatasetsFromDescAndTitle.apply(this,arguments);}var canvasRef=useRef(null);// The force simulation mutates links and nodes, so create a copy first\n// Node positions are initialized by d3\nvar links=d3Graph.links.map(function(d){return _objectSpread({},d);});var nodes=d3Graph.nodes.map(function(d){return _objectSpread({},d);});useEffect(function(){if(d3Graph.nodes.length===0){explainDatasetsFromDescAndTitle();}else{// The force simulation mutates links and nodes, so create a copy first\n// Node positions are initialized by d3\nd3Graph.links.map(function(d){return _objectSpread({},d);}),_readOnlyError(\"links\");d3Graph.nodes.map(function(d){return _objectSpread({},d);}),_readOnlyError(\"nodes\");var canvas=canvasRef.current;var context=canvas===null||canvas===void 0?void 0:canvas.getContext('2d');if(!context){return;}// run d3-force to find the position of nodes on the canvas\nd3.forceSimulation(nodes)// list of forces we apply to get node positions\n.force('link',d3.forceLink(links).id(function(d){return d.id;})// Force #1: links between nodes\n).force('collide',d3.forceCollide().radius(RADIUS))// Force #2: avoid node overlaps\n.force('charge',d3.forceManyBody())// Force #3: attraction or repulsion between nodes\n.force('center',d3.forceCenter(width/2,height/2))// Force #4: nodes are attracted by the center of the chart area\n// at each iteration of the simulation, draw the network diagram with the new node positions\n.on('tick',function(){drawNetwork(context,width,height,nodes,links);});}},[width,height,nodes,links]);return/*#__PURE__*/_jsx(\"div\",{children:d3Graph.nodes.length>0?/*#__PURE__*/_jsx(\"canvas\",{ref:canvasRef,style:{width:width,height:height},width:width,height:height}):/*#__PURE__*/_jsx(_Fragment,{})});}","map":{"version":3,"names":["d3","useEffect","useState","useRef","RADIUS","drawNetwork","React","jsx","_jsx","Fragment","_Fragment","DatasetDiscoveryExplainedGraph","_ref","kbUri","termInfo","width","height","prefix2uri","getPrefixFromUri","resourceUri","Object","entries","map","_ref2","_ref3","_slicedToArray","prefixKey","prefixUri","includes","getPrefixedUri","prefix","get","replace","prefix2group","getGroupFromPrefixedUri","prefixedUri","split","undefined","_useState","nodes","links","_useState2","d3Graph","setD3Graph","xQueryDatasetsFromDescAndTitle","concat","term","toString","explainDatasetsFromDescAndTitle","_explainDatasetsFromDescAndTitle","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","queryTxt","response","jsonData","subjects","properties","objects","tmpD3Graph","wrap","_callee$","_context","prev","next","console","log","abrupt","fetch","method","credentials","headers","withCredentials","redirect","referrerPolicy","body","sent","json","results","bindings","length","binding","datasetNode","datasetProp","litMentioningSearchLabel","datasetPropNode","substring","indexOf","push","id","group","source","target","value","t0","stop","canvasRef","d","_objectSpread","_readOnlyError","canvas","current","context","getContext","forceSimulation","force","forceLink","forceCollide","radius","forceManyBody","forceCenter","on","children","ref","style"],"sources":["/home/vincentarmant/workspace/nodejs/react-restapi-call/src/components/DatasetDiscoveryExplainedGraph.js"],"sourcesContent":["import * as d3 from 'd3';\nimport { useEffect, useState, useRef } from \"react\";\nimport { RADIUS, drawNetwork } from './drawNetwork';\nimport React from 'react';\n\n\n\nexport default function DatasetDiscoveryExplainedGraph ({kbUri, termInfo, width, height}){\n\n    const prefix2uri = {\n        'skos:':'http://www.w3.org/2004/02/skos/core#',\n        'sosa:': 'http://www.w3.org/ns/sosa/',\n        'ucmm:':'http://purl.org/ucmm#',\n        'rdf:': 'http://www.w3.org/1999/02/22-rdf-syntax-ns#',\n        'dcat:':'http://www.w3.org/ns/dcat#',\n        'dcterms:':'http://purl.org/dc/terms/',\n\n        'i1:':'http://example.org/b2a5ed57-5c4e-4596-b803-d2ac7f5b9991#',\n        'i2:':'http://example.org/51824c86-ae0f-442f-9df2-e86244984ba3#',\n        'i3:':'http://example.org/97b4842b-94b3-4205-8781-476813d8177b#',\n        'i4:':'http://example.org/e747d804-a5d1-4fd1-bd9b-306a8ebd4904#',\n        'i5': 'http://example.org/de5b570a-b560-4e84-a755-52c2aa499874#',\n        'i6': '<http://example.org/3df904de-e47d-4bf9-85a0-7c0942aff8b6#',\n        'i7': 'http://example.org/BDML_TCHR#',\n        'i8': 'http://example.org/4f676524-a831-41fe-9afb-d95f4e7597e3#',\n        'i9': 'http://example.org/f4968943-ad6f-4563-a737-58fe3285fb3c#',\n        'i10': 'http://example.org/17e24931-ccd6-4de0-a01c-9ffb3be88461#'\n    };\n\n    function getPrefixFromUri(resourceUri){\n\n        Object.entries(prefix2uri).map( ([prefixKey,prefixUri]) => {\n            if(resourceUri.includes(prefixUri)){\n                return prefixKey\n            }\n        })\n        return('');\n\n    }\n    \n    function getPrefixedUri(resourceUri){\n        const prefix = getPrefixFromUri(resourceUri);\n        if(prefix==='')\n            return resourceUri;\n        const prefixUri = prefix2uri.get(prefix);\n        return resourceUri.replace(prefixUri,prefix);\n    }\n\n    const prefix2group ={ // THEAI ODATIS FORMATER AERIS\n        'i1:': 1,\n        'i2:': 1,\n        'i3:': 1,\n        'i4:': 2,\n        'i5:': 2,\n        'i6:': 2,\n        'i7:': 3,\n        'i8:': 3,\n        'i9.:': 3,\n        'i10:': 3,\n    }\n\n    function getGroupFromPrefixedUri(prefixedUri){\n        const prefix= prefixedUri.split(\":\")[0]+\":\";\n        if(!prefix2group[prefix]===undefined){\n            return prefix2group[prefix];\n        }else{\n            return 4;\n        }\n    }\n\n\n    const [d3Graph,setD3Graph]= useState({\n        nodes:[\n            // {\n            //     id: String,\n            //     group:Int32Array,\n            // }\n        ],\n        links:[\n            // {\n            //     source: String,\n            //     target: String,\n            //     value: Int16Array\n            // }\n        ]\n    });\n\n    // Todo instanciate in case of several graph manipulations\n    // const [spod,setSPOD]= useState({\n    //     subjects: [],\n    //     properties: [],\n    //     objects: [],\n    //     d3LinkIndexes: [] //\n    // });\n\n    function xQueryDatasetsFromDescAndTitle(){\n        return (`PREFIX skos: <http://www.w3.org/2004/02/skos/core#>\n        PREFIX sosa: <http://www.w3.org/ns/sosa/>\n        PREFIX ucmm: <http://purl.org/ucmm#> \n        PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> \n        PREFIX dcat: <http://www.w3.org/ns/dcat#> \n        PREFIX dcterms: <http://purl.org/dc/terms/> \n        SELECT DISTINCT ?dataset ?datasetProp ?litMentioningSearchLabel\n        WHERE{\n          VALUES ?datasetProp {dcterms:description dcterms:title}\n          ?dataset rdf:type dcat:Dataset . \n          ?dataset ?datasetProp ?litMentioningSearchLabel. \n          FILTER ( \n            regex(?litMentioningSearchLabel,\"${termInfo.term}\",\"i\") \n          )\n          FILTER (\n            lang(?litMentioningSearchLabel)=\"en\"\n          )\n        }`).toString().replace('\\n',' ');\n    }\n\n\n    async function explainDatasetsFromDescAndTitle () {\n\n        try {  \n\n            console.log()\n            console.log('kbUri : ',kbUri);\n            console.log('termInfo.term : ',termInfo.term);\n\n            if(!termInfo.term)\n                return;\n\n            const queryTxt = xQueryDatasetsFromDescAndTitle();\n\n            const response = await fetch(kbUri,{\n                method: \"POST\",\n                credentials: \"same-origin\",\n                headers:{\n                    \"Content-Type\": 'application/x-www-form-urlencoded',\n                    \"xhrFields\": {withCredentials: true},\n                    \"Accept\" : \"application/json\",\n                },\n                redirect: \"follow\",\n                referrerPolicy: \"no-referrer\",\n                body: \"query=\"+ queryTxt\n            }\n            )            \n            \n            const jsonData = await response.json();\n            \n            console.log('jsonData:', jsonData);\n            \n            let subjects= [];\n            let properties = [];\n            let objects = [];\n\n            const tmpD3Graph = d3Graph;\n\n            if(jsonData){\n\n                if(jsonData.results){\n                    if(jsonData.results.bindings){\n                        if(jsonData.results.bindings.length>0){\n\n                            jsonData.results.bindings.map( binding =>{\n                                const datasetNode =  getPrefixedUri(binding['dataset']['value']);\n                                const datasetProp = getPrefixedUri(binding['datasetProp']['value']);\n                                const litMentioningSearchLabel= getPrefixedUri(binding['litMentioningSearchLabel']['value']);\n\n                                const datasetPropNode = datasetNode.substring(0,datasetNode.indexOf(\":\")+1)\n                                + datasetProp.substring(0,datasetProp.indexOf(\":\"));\n                                \n                                if(!tmpD3Graph.nodes.includes(datasetNode)){\n                                    tmpD3Graph.nodes.push({\n                                        id: datasetNode,\n                                        group: getGroupFromPrefixedUri(datasetNode)\n                                    });\n                                }\n\n                                if(!tmpD3Graph.nodes.includes(datasetPropNode)){\n                                    tmpD3Graph.nodes.push({\n                                        id: datasetPropNode,\n                                        group: getGroupFromPrefixedUri(datasetPropNode)\n                                    });\n                                }\n\n                                tmpD3Graph.links.push({\n                                    source: datasetNode,\n                                    target: datasetPropNode,\n                                    value: 1\n                                })\n                            })\n                        }\n                    }\n                }\n\n            }\n\n            console.log('tmpD3Graph:', tmpD3Graph);\n            setD3Graph(tmpD3Graph);\n             \n        } catch (error) {\n            console.log('Error:', error);\n        }\n    }\n\n    const canvasRef = useRef(null);\n\n    // The force simulation mutates links and nodes, so create a copy first\n    // Node positions are initialized by d3\n    const links= d3Graph.links.map((d) => ({ ...d }));\n    const nodes= d3Graph.nodes.map((d) => ({ ...d }));\n\n    useEffect(() =>{\n\n            if(d3Graph.nodes.length===0){\n                explainDatasetsFromDescAndTitle();\n            }else{\n                \n                // The force simulation mutates links and nodes, so create a copy first\n                // Node positions are initialized by d3\n                links= d3Graph.links.map((d) => ({ ...d }));\n                nodes= d3Graph.nodes.map((d) => ({ ...d }));\n\n                const canvas = canvasRef.current;\n                const context = canvas?.getContext('2d');\n\n                if (!context) {\n                return;\n                }\n\n                // run d3-force to find the position of nodes on the canvas\n                d3.forceSimulation(nodes)\n\n                // list of forces we apply to get node positions\n                .force(\n                'link',\n                d3.forceLink(links).id((d) => d.id) // Force #1: links between nodes\n                )\n                .force('collide', d3.forceCollide().radius(RADIUS)) // Force #2: avoid node overlaps\n                .force('charge', d3.forceManyBody()) // Force #3: attraction or repulsion between nodes\n                .force('center', d3.forceCenter(width / 2, height / 2)) // Force #4: nodes are attracted by the center of the chart area\n\n                // at each iteration of the simulation, draw the network diagram with the new node positions\n                .on('tick', () => {\n                drawNetwork(context, width, height, nodes, links);\n                });\n            }\n        }, [width, height, nodes, links]\n    );\n\n    return(\n        <div>\n            {d3Graph.nodes.length>0?(\n                <canvas\n                    ref={canvasRef}\n                    style={{\n                        width,\n                        height\n                    }}\n                    width={width}\n                    height={height}\n                />\n            ):(\n                <></>\n            )\n            }\n        </div>\n    )\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}