{"ast":null,"code":"import _regeneratorRuntime from\"/home/vincentarmant/workspace/nodejs/react-restapi-call/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/vincentarmant/workspace/nodejs/react-restapi-call/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/vincentarmant/workspace/nodejs/react-restapi-call/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import*as d3 from'd3';import{useEffect,useState,useRef}from\"react\";import{RADIUS,drawNetwork}from'./drawNetwork';import React from'react';import ForceUndirectedD3Graph from'./ForceUndirectedD3Graph';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function ExplainedDatasetDiscovery(_ref){var kbUri=_ref.kbUri,termInfo=_ref.termInfo,width=_ref.width,height=_ref.height;var prefix2uri={'skos:':'http://www.w3.org/2004/02/skos/core#','sosa:':'http://www.w3.org/ns/sosa/','ucmm:':'http://purl.org/ucmm#','rdf:':'http://www.w3.org/1999/02/22-rdf-syntax-ns#','dcat:':'http://www.w3.org/ns/dcat#','dcterms:':'http://purl.org/dc/terms/','i1:':'http://example.org/b2a5ed57-5c4e-4596-b803-d2ac7f5b9991#','i2:':'http://example.org/51824c86-ae0f-442f-9df2-e86244984ba3#','i3:':'http://example.org/97b4842b-94b3-4205-8781-476813d8177b#','i4:':'http://example.org/e747d804-a5d1-4fd1-bd9b-306a8ebd4904#','i5:':'http://example.org/de5b570a-b560-4e84-a755-52c2aa499874#','i6:':'http://example.org/3df904de-e47d-4bf9-85a0-7c0942aff8b6#','i7:':'http://example.org/BDML_TCHR#','i8:':'http://example.org/4f676524-a831-41fe-9afb-d95f4e7597e3#','i9:':'http://example.org/f4968943-ad6f-4563-a737-58fe3285fb3c#','i10:':'http://example.org/17e24931-ccd6-4de0-a01c-9ffb3be88461#'};function getPrefixFromUri(resourceUri){// console.log(`getPrefixFromUri(resourceUri: ', ${resourceUri})`);\nvar prefix='';Object.entries(prefix2uri).map(function(_ref2){var _ref3=_slicedToArray(_ref2,2),prefixKey=_ref3[0],uri=_ref3[1];if(resourceUri.includes(uri)){// console.log(` resourceUri.includes(${uri})`);\nprefix=prefixKey;return;// exit map function\n}});// console.log(` prefix: ', ${prefix}`);\nreturn prefix;}function getPrefixedUri(resourceUri){// console.log(`getPrefixedUri(resourceUri: ', ${resourceUri})`);\nvar prefix=getPrefixFromUri(resourceUri);if(prefix==='')return resourceUri;var prefixUri=prefix2uri[prefix];var prefixedUri=resourceUri.replace(prefixUri,prefix);// console.log(` prefixedUri: ', ${prefixedUri}`);\nreturn prefixedUri;}var prefix2group={// THEAI ODATIS FORMATER AERIS\n'i1:':1,'i2:':1,'i3:':1,'i4:':2,'i5:':2,'i6:':2,'i7:':3,'i8:':3,'i9:':3,'i10:':3};function getGroupFromPrefixedUri(prefixedUri){var prefix=prefixedUri.substring(0,prefixedUri.indexOf(\":\")+1);if(prefix2group[prefix]){return prefix2group[prefix];}else{return 4;}}var _useState=useState({nodes:[// {\n//     id: String,\n//     group:Int32Array,\n// }\n],links:[// {\n//     source: String,\n//     target: String,\n//     value: Int16Array\n// }\n]}),_useState2=_slicedToArray(_useState,2),d3Graph=_useState2[0],setD3Graph=_useState2[1];// Todo instanciate in case of several graph manipulations\n// const [spod,setSPOD]= useState({\n//     subjects: [],\n//     properties: [],\n//     objects: [],\n//     d3LinkIndexes: [] //\n// });\nfunction xQueryDatasetsFromDescAndTitle(){console.log(\"xQueryDatasetsFromDescAndTitle\");return\"PREFIX skos: <http://www.w3.org/2004/02/skos/core#>\\n        PREFIX sosa: <http://www.w3.org/ns/sosa/>\\n        PREFIX ucmm: <http://purl.org/ucmm#> \\n        PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> \\n        PREFIX dcat: <http://www.w3.org/ns/dcat#> \\n        PREFIX dcterms: <http://purl.org/dc/terms/> \\n        SELECT DISTINCT ?dataset ?datasetProp ?litMentioningSearchLabel\\n        WHERE{\\n          VALUES ?datasetProp {dcterms:description dcterms:title}\\n          ?dataset rdf:type dcat:Dataset . \\n          ?dataset ?datasetProp ?litMentioningSearchLabel. \\n          FILTER ( \\n            regex(?litMentioningSearchLabel,\\\"\".concat(termInfo.term,\"\\\",\\\"i\\\") \\n          )\\n          FILTER (\\n            lang(?litMentioningSearchLabel)=\\\"en\\\"\\n          )\\n        }\").replace('\\n',' ');}var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),currentlyExlainedTerm=_useState4[0],setCurrentlyExplainedTerm=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),currentlyVisualisedTerm=_useState6[0],setCurrentlyVisualisedTerm=_useState6[1];function explainDatasetsFromDescAndTitle(_x){return _explainDatasetsFromDescAndTitle.apply(this,arguments);}// const svgRef = useRef(null);\n// The force simulation mutates links and nodes, so create a copy first\n// Node positions are initialized by d3\n// let links= d3Graph.links.map((d) => ({ ...d }));\n// let nodes= d3Graph.nodes.map((d) => ({ ...d }));\nfunction _explainDatasetsFromDescAndTitle(){_explainDatasetsFromDescAndTitle=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(tmpD3Graph){return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:return _context2.abrupt(\"return\",new Promise(/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(resolve,reject){var queryTxt,response,jsonData;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;if(!termInfo.term){resolve(false);}console.log('explainDatasetsFromDescAndTitle()');console.log(' kbUri : ',kbUri);console.log(' termInfo.term : ',termInfo.term);console.log(' tmpD3Graph: ',tmpD3Graph);queryTxt=xQueryDatasetsFromDescAndTitle();_context.next=9;return fetch(kbUri,{method:\"POST\",credentials:\"same-origin\",headers:{\"Content-Type\":'application/x-www-form-urlencoded',\"xhrFields\":{withCredentials:true},\"Accept\":\"application/json\"},redirect:\"follow\",referrerPolicy:\"no-referrer\",body:\"query=\"+queryTxt});case 9:response=_context.sent;_context.next=12;return response.json();case 12:jsonData=_context.sent;console.log(' jsonData:',jsonData);if(jsonData){if(jsonData.results){if(jsonData.results.bindings){if(jsonData.results.bindings.length>0){jsonData.results.bindings.map(function(binding){var datasetNode=getPrefixedUri(binding['dataset']['value']);var datasetProp=getPrefixedUri(binding['datasetProp']['value']);var datasetPropNode=datasetNode.substring(0,datasetNode.indexOf(\":\")+1)+datasetProp.substring(datasetProp.indexOf(\":\")+1);var litMentioningSearchLabel=binding['litMentioningSearchLabel']['value'];if(!tmpD3Graph.nodes.includes(datasetNode)){tmpD3Graph.nodes.push({id:datasetNode,group:getGroupFromPrefixedUri(datasetNode)});}if(!tmpD3Graph.nodes.includes(datasetPropNode)){tmpD3Graph.nodes.push({id:datasetPropNode,group:getGroupFromPrefixedUri(datasetPropNode)});}tmpD3Graph.links.push({source:tmpD3Graph.nodes[0].id,target:datasetPropNode,value:1});tmpD3Graph.links.push({source:datasetNode,target:datasetPropNode,value:1});});}}}}console.log('tmpD3Graph:',tmpD3Graph);resolve(true);_context.next=23;break;case 19:_context.prev=19;_context.t0=_context[\"catch\"](0);console.log('Error:',_context.t0);resolve(false);case 23:case\"end\":return _context.stop();}},_callee,null,[[0,19]]);}));return function(_x2,_x3){return _ref4.apply(this,arguments);};}()));case 1:case\"end\":return _context2.stop();}},_callee2);}));return _explainDatasetsFromDescAndTitle.apply(this,arguments);}useEffect(function(){console.log(\"useEffect DatasetDiscoveryExplainedSVGGraph\");console.log(\" termInfo.term\",termInfo.term);console.log(\" currentExlainedTerm\",currentlyExlainedTerm);console.log(\" currentlyVisualisedTerm\",currentlyVisualisedTerm);console.log(\" d3Graph\",d3Graph);if(termInfo.term===''){return;}var tmpD3Graph={nodes:[{id:'searchTerm',group:4}],links:[// {\n//     source: String,\n//     target: String,\n//     value: Int16Array\n// }\n]};var updatedExplanation=false;explainDatasetsFromDescAndTitle(tmpD3Graph).then(function(explanationReceived){updatedExplanation||(updatedExplanation=explanationReceived);if(updatedExplanation){setD3Graph(tmpD3Graph);setCurrentlyExplainedTerm(termInfo.term);}console.log(\" updatedExplanation: \".concat(updatedExplanation));});},[termInfo]// nodes, links\n);return/*#__PURE__*/_jsx(\"div\",{children:d3Graph.nodes.length>0?/*#__PURE__*/_jsx(ForceUndirectedD3Graph,{width:width,height:height,d3Graph:d3Graph}):/*#__PURE__*/_jsx(_Fragment,{})});}","map":{"version":3,"names":["d3","useEffect","useState","useRef","RADIUS","drawNetwork","React","ForceUndirectedD3Graph","jsx","_jsx","Fragment","_Fragment","ExplainedDatasetDiscovery","_ref","kbUri","termInfo","width","height","prefix2uri","getPrefixFromUri","resourceUri","prefix","Object","entries","map","_ref2","_ref3","_slicedToArray","prefixKey","uri","includes","getPrefixedUri","prefixUri","prefixedUri","replace","prefix2group","getGroupFromPrefixedUri","substring","indexOf","_useState","nodes","links","_useState2","d3Graph","setD3Graph","xQueryDatasetsFromDescAndTitle","console","log","concat","term","_useState3","_useState4","currentlyExlainedTerm","setCurrentlyExplainedTerm","_useState5","_useState6","currentlyVisualisedTerm","setCurrentlyVisualisedTerm","explainDatasetsFromDescAndTitle","_x","_explainDatasetsFromDescAndTitle","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee2","tmpD3Graph","wrap","_callee2$","_context2","prev","next","abrupt","Promise","_ref4","_callee","resolve","reject","queryTxt","response","jsonData","_callee$","_context","fetch","method","credentials","headers","withCredentials","redirect","referrerPolicy","body","sent","json","results","bindings","length","binding","datasetNode","datasetProp","datasetPropNode","litMentioningSearchLabel","push","id","group","source","target","value","t0","stop","_x2","_x3","updatedExplanation","then","explanationReceived","children"],"sources":["/home/vincentarmant/workspace/nodejs/react-restapi-call/src/components/ExplainedDatasetDiscovery.js"],"sourcesContent":["import * as d3 from 'd3';\nimport { useEffect, useState, useRef } from \"react\";\nimport { RADIUS, drawNetwork } from './drawNetwork';\nimport React from 'react';\nimport ForceUndirectedD3Graph from './ForceUndirectedD3Graph';\n\n\n\nexport default function ExplainedDatasetDiscovery ({kbUri, termInfo, width, height}){\n\n    const prefix2uri = {\n        'skos:':'http://www.w3.org/2004/02/skos/core#',\n        'sosa:': 'http://www.w3.org/ns/sosa/',\n        'ucmm:':'http://purl.org/ucmm#',\n        'rdf:': 'http://www.w3.org/1999/02/22-rdf-syntax-ns#',\n        'dcat:':'http://www.w3.org/ns/dcat#',\n        'dcterms:':'http://purl.org/dc/terms/',\n\n        'i1:':'http://example.org/b2a5ed57-5c4e-4596-b803-d2ac7f5b9991#',\n        'i2:':'http://example.org/51824c86-ae0f-442f-9df2-e86244984ba3#',\n        'i3:':'http://example.org/97b4842b-94b3-4205-8781-476813d8177b#',\n        'i4:':'http://example.org/e747d804-a5d1-4fd1-bd9b-306a8ebd4904#',\n        'i5:': 'http://example.org/de5b570a-b560-4e84-a755-52c2aa499874#',\n        'i6:': 'http://example.org/3df904de-e47d-4bf9-85a0-7c0942aff8b6#',\n        'i7:': 'http://example.org/BDML_TCHR#',\n        'i8:': 'http://example.org/4f676524-a831-41fe-9afb-d95f4e7597e3#',\n        'i9:': 'http://example.org/f4968943-ad6f-4563-a737-58fe3285fb3c#',\n        'i10:': 'http://example.org/17e24931-ccd6-4de0-a01c-9ffb3be88461#'\n    };\n\n    function getPrefixFromUri(resourceUri){\n\n        // console.log(`getPrefixFromUri(resourceUri: ', ${resourceUri})`);\n\n        let prefix = '';\n        Object.entries(prefix2uri).map( ([prefixKey,uri]) => {\n            if(resourceUri.includes(uri)){\n                // console.log(` resourceUri.includes(${uri})`);\n                prefix = prefixKey;\n                return; // exit map function\n            }\n        })\n\n        // console.log(` prefix: ', ${prefix}`);\n\n        return prefix;\n    }\n    \n    function getPrefixedUri(resourceUri){\n\n        // console.log(`getPrefixedUri(resourceUri: ', ${resourceUri})`);\n\n        const prefix = getPrefixFromUri(resourceUri);\n\n        if(prefix==='')\n            return resourceUri;\n\n        const prefixUri = prefix2uri[prefix];\n        const prefixedUri = resourceUri.replace(prefixUri,prefix);\n\n        // console.log(` prefixedUri: ', ${prefixedUri}`);\n\n        return prefixedUri;\n    }\n\n    const prefix2group ={ // THEAI ODATIS FORMATER AERIS\n        'i1:': 1,\n        'i2:': 1,\n        'i3:': 1,\n        'i4:': 2,\n        'i5:': 2,\n        'i6:': 2,\n        'i7:': 3,\n        'i8:': 3,\n        'i9:': 3,\n        'i10:': 3,\n    }\n\n    function getGroupFromPrefixedUri(prefixedUri){\n        const prefix= prefixedUri.substring(0,prefixedUri.indexOf(\":\")+1)\n\n        \n        if(prefix2group[prefix]){\n            return prefix2group[prefix];\n        }else{\n            return 4;\n        }\n    }\n\n\n    const [d3Graph,setD3Graph]= useState({\n        nodes:[\n            // {\n            //     id: String,\n            //     group:Int32Array,\n            // }\n        ],\n        links:[\n            // {\n            //     source: String,\n            //     target: String,\n            //     value: Int16Array\n            // }\n        ]\n    });\n\n    // Todo instanciate in case of several graph manipulations\n    // const [spod,setSPOD]= useState({\n    //     subjects: [],\n    //     properties: [],\n    //     objects: [],\n    //     d3LinkIndexes: [] //\n    // });\n\n    function xQueryDatasetsFromDescAndTitle(){\n\n        console.log(`xQueryDatasetsFromDescAndTitle`);\n\n        return (`PREFIX skos: <http://www.w3.org/2004/02/skos/core#>\n        PREFIX sosa: <http://www.w3.org/ns/sosa/>\n        PREFIX ucmm: <http://purl.org/ucmm#> \n        PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> \n        PREFIX dcat: <http://www.w3.org/ns/dcat#> \n        PREFIX dcterms: <http://purl.org/dc/terms/> \n        SELECT DISTINCT ?dataset ?datasetProp ?litMentioningSearchLabel\n        WHERE{\n          VALUES ?datasetProp {dcterms:description dcterms:title}\n          ?dataset rdf:type dcat:Dataset . \n          ?dataset ?datasetProp ?litMentioningSearchLabel. \n          FILTER ( \n            regex(?litMentioningSearchLabel,\"${termInfo.term}\",\"i\") \n          )\n          FILTER (\n            lang(?litMentioningSearchLabel)=\"en\"\n          )\n        }`).replace('\\n',' ');\n    }\n\n\n    const [currentlyExlainedTerm, setCurrentlyExplainedTerm] = useState('');\n    const [currentlyVisualisedTerm, setCurrentlyVisualisedTerm] = useState('');\n\n    async function explainDatasetsFromDescAndTitle (tmpD3Graph) {\n        \n        return new Promise (async (resolve,reject) => {\n\n        try {  \n\n            if(!termInfo.term){\n                resolve(false);\n            }\n\n            console.log('explainDatasetsFromDescAndTitle()')\n            console.log(' kbUri : ',kbUri);\n            console.log(' termInfo.term : ',termInfo.term);\n            console.log(' tmpD3Graph: ',tmpD3Graph);\n\n            \n\n            const queryTxt = xQueryDatasetsFromDescAndTitle();\n\n            const response = await fetch(kbUri,{\n                method: \"POST\",\n                credentials: \"same-origin\",\n                headers:{\n                    \"Content-Type\": 'application/x-www-form-urlencoded',\n                    \"xhrFields\": {withCredentials: true},\n                    \"Accept\" : \"application/json\",\n                },\n                redirect: \"follow\",\n                referrerPolicy: \"no-referrer\",\n                body: \"query=\"+ queryTxt\n            }\n            )            \n            \n            const jsonData = await response.json();\n            \n            console.log(' jsonData:', jsonData);\n            \n            \n\n            if(jsonData){\n\n                if(jsonData.results){\n                    if(jsonData.results.bindings){\n                        if(jsonData.results.bindings.length>0){\n\n                            jsonData.results.bindings.map( binding =>{\n                                const datasetNode =  getPrefixedUri(binding['dataset']['value']);\n                                const datasetProp = getPrefixedUri(binding['datasetProp']['value']);\n\n                                const datasetPropNode = datasetNode.substring(0,datasetNode.indexOf(\":\")+1)\n                                + datasetProp.substring(datasetProp.indexOf(\":\")+1);\n\n                                const litMentioningSearchLabel= binding['litMentioningSearchLabel']['value'];\n\n                                \n                                if(!tmpD3Graph.nodes.includes(datasetNode)){\n                                    tmpD3Graph.nodes.push({\n                                        id: datasetNode,\n                                        group: getGroupFromPrefixedUri(datasetNode)\n                                    });\n                                }\n\n                                if(!tmpD3Graph.nodes.includes(datasetPropNode)){\n                                    tmpD3Graph.nodes.push({\n                                        id: datasetPropNode,\n                                        group: getGroupFromPrefixedUri(datasetPropNode)\n                                    });\n                                }\n\n                                tmpD3Graph.links.push({\n                                    source: tmpD3Graph.nodes[0].id,\n                                    target: datasetPropNode,\n                                    value: 1\n                                })\n\n                                tmpD3Graph.links.push({\n                                    source: datasetNode,\n                                    target: datasetPropNode,\n                                    value: 1\n                                })\n\n                                \n                            })\n                        }\n                    }\n                }\n\n            }\n\n            console.log('tmpD3Graph:', tmpD3Graph);\n           resolve(true);\n             \n        } catch (error) {\n            console.log('Error:', error);\n            resolve(false);\n        }\n        })\n    }\n\n    // const svgRef = useRef(null);\n\n    // The force simulation mutates links and nodes, so create a copy first\n    // Node positions are initialized by d3\n    // let links= d3Graph.links.map((d) => ({ ...d }));\n    // let nodes= d3Graph.nodes.map((d) => ({ ...d }));\n\n    useEffect( function () {\n\n\n            console.log(`useEffect DatasetDiscoveryExplainedSVGGraph`)\n            console.log(` termInfo.term`,termInfo.term)\n            console.log(` currentExlainedTerm`, currentlyExlainedTerm )\n            console.log(` currentlyVisualisedTerm`, currentlyVisualisedTerm )\n\n            console.log(` d3Graph`,d3Graph)\n\n            if(termInfo.term === '' ){\n                return;\n            }\n               \n\n\n            const tmpD3Graph = {\n                nodes:[\n                    {\n                        id:'searchTerm',\n                        group:4,\n                    }\n                ],\n                links:[\n                    // {\n                    //     source: String,\n                    //     target: String,\n                    //     value: Int16Array\n                    // }\n                ]\n            };\n            \n            let updatedExplanation = false;\n            explainDatasetsFromDescAndTitle(tmpD3Graph).then( (explanationReceived) =>{\n                \n                updatedExplanation ||=  explanationReceived;\n\n                if(updatedExplanation){\n                    setD3Graph(tmpD3Graph);\n                    setCurrentlyExplainedTerm(termInfo.term);\n                }\n\n\n                console.log(` updatedExplanation: ${updatedExplanation}`)\n            })\n\n\n        }, [termInfo] // nodes, links\n    );\n\n    return(\n        <div>\n            {d3Graph.nodes.length>0?(\n                <ForceUndirectedD3Graph width={width} height={height} d3Graph={d3Graph}></ForceUndirectedD3Graph>\n            ):(\n                <></>\n            )\n            }\n            \n        </div>\n    )\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}