{"ast":null,"code":"import _regeneratorRuntime from\"/home/vincentarmant/workspace/nodejs/react-restapi-call/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _taggedTemplateLiteral from\"/home/vincentarmant/workspace/nodejs/react-restapi-call/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";import _objectSpread from\"/home/vincentarmant/workspace/nodejs/react-restapi-call/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _readOnlyError from\"/home/vincentarmant/workspace/nodejs/react-restapi-call/node_modules/@babel/runtime/helpers/esm/readOnlyError.js\";import _asyncToGenerator from\"/home/vincentarmant/workspace/nodejs/react-restapi-call/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/vincentarmant/workspace/nodejs/react-restapi-call/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";var _templateObject,_templateObject2,_templateObject3,_templateObject4;import*as d3 from'd3';import{useEffect,useState,useRef}from\"react\";import{RADIUS,drawNetwork}from'./drawNetwork';import React from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function DatasetDiscoveryExplainedGraph(kbUri){var termInfo=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{term:'atmosphere'};var width=arguments.length>2?arguments[2]:undefined;var height=arguments.length>3?arguments[3]:undefined;var prefix2uri={'skos:':'http://www.w3.org/2004/02/skos/core#','sosa:':'http://www.w3.org/ns/sosa/','ucmm:':'http://purl.org/ucmm#','rdf:':'http://www.w3.org/1999/02/22-rdf-syntax-ns#','dcat:':'http://www.w3.org/ns/dcat#','dcterms:':'http://purl.org/dc/terms/','i1:':'http://example.org/b2a5ed57-5c4e-4596-b803-d2ac7f5b9991#','i2:':'http://example.org/51824c86-ae0f-442f-9df2-e86244984ba3#','i3:':'http://example.org/97b4842b-94b3-4205-8781-476813d8177b#','i4:':'http://example.org/e747d804-a5d1-4fd1-bd9b-306a8ebd4904#','i5':'http://example.org/de5b570a-b560-4e84-a755-52c2aa499874#','i6':'<http://example.org/3df904de-e47d-4bf9-85a0-7c0942aff8b6#','i7':'http://example.org/BDML_TCHR#','i8':'http://example.org/4f676524-a831-41fe-9afb-d95f4e7597e3#','i9':'http://example.org/f4968943-ad6f-4563-a737-58fe3285fb3c#','i10':'http://example.org/17e24931-ccd6-4de0-a01c-9ffb3be88461#'};function getPrefixFromUri(resourceUri){Object.entries(prefix2uri).map(function(_ref){var _ref2=_slicedToArray(_ref,2),prefixKey=_ref2[0],prefixUri=_ref2[1];if(resourceUri.includes(prefixUri)){return prefixKey;}});return'';}function getPrefixedUri(resourceUri){var prefix=getPrefixFromUri(resourceUri);if(prefix==='')return resourceUri;var prefixUri=prefix2uri.get(prefix);return resourceUri.replace(prefixUri,prefix);}var prefix2group={// THEAI ODATIS FORMATER AERIS\n'i1:':1,'i2:':1,'i3:':1,'i4:':2,'i5:':2,'i6:':2,'i7:':3,'i8:':3,'i9.:':3,'i10:':3};function getGroupFromPrefixedUri(prefixedUri){var prefix=prefixedUri.split(\":\")[0]+\":\";if(!prefix2group[prefix]===undefined){return prefix2group[prefix];}else{return 4;}}var _useState=useState({nodes:[// {\n//     id: String,\n//     group:Int32Array,\n// }\n],links:[// {\n//     source: String,\n//     target: String,\n//     value: Int16Array\n// }\n]}),_useState2=_slicedToArray(_useState,2),d3Graph=_useState2[0],setD3Graph=_useState2[1];// Todo instanciate in case of several graph manipulations\n// const [spod,setSPOD]= useState({\n//     subjects: [],\n//     properties: [],\n//     objects: [],\n//     d3LinkIndexes: [] //\n// });\nfunction buildExplanationsForDiscoveryOfDatasetsFromDescAndTitle(){return _buildExplanationsForDiscoveryOfDatasetsFromDescAndTitle.apply(this,arguments);}function _buildExplanationsForDiscoveryOfDatasetsFromDescAndTitle(){_buildExplanationsForDiscoveryOfDatasetsFromDescAndTitle=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var queryTxt,response,jsonData,subjects,properties,objects,tmpD3Graph,datasetNode,datasetProp,litMentioningSearchLabel,datasetPropNode;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;console.log();console.log('kbUri : ',kbUri);console.log('termInfo.term : ',termInfo.term);queryTxt=(\"\"(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\" PREFIX skos: <http://www.w3.org/2004/02/skos/core#> \\n            PREFIX sosa: <http://www.w3.org/ns/sosa/> \\n            PREFIX ucmm: <http://purl.org/ucmm#> \\n            PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> \\n            PREFIX dcat: <http://www.w3.org/ns/dcat#> \\n            PREFIX dcterms: <http://purl.org/dc/terms/> \\n            SELECT DISTINCT ?dataset ?datasetProp ?litMentioningSearchLabel\\n            WHERE{\\n              VALUES ?datasetProp {dcterms:description dcterms:title}\\n              ?dataset rdf:type dcat:Dataset . \\n              ?dataset ?datasetProp ?litMentioningSearchLabel. \\n              FILTER ( \\n                regex(?litMentioningSearchLabel,\\\"\"])))(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\"])))+termInfo.term+\"\"(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\\",\\\"i\\\") \\n              )\\n              FILTER (\\n                lang(?litMentioningSearchLabel)=\\\"en\\\"\\n              )\\n            }\"])))(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\"]))).toString()).replace('\\n',' ');_context.next=7;return fetch(kbUri,{method:\"POST\",credentials:\"same-origin\",headers:{\"Content-Type\":'application/x-www-form-urlencoded',\"xhrFields\":{withCredentials:true},\"Accept\":\"application/json\"},redirect:\"follow\",referrerPolicy:\"no-referrer\",body:\"query=\"+queryTxt});case 7:response=_context.sent;_context.next=10;return response.json();case 10:jsonData=_context.sent;console.log('jsonData:',jsonData);subjects=[];properties=[];objects=[];tmpD3Graph=d3Graph;if(jsonData){if(jsonData.results){if(jsonData.results.bindings){datasetNode=getPrefixedUri(jsonData.results.bindings['dataset']['value']);datasetProp=getPrefixedUri(jsonData.results.bindings['datasetProp']['value']);litMentioningSearchLabel=getPrefixedUri(jsonData.results.bindings['litMentioningSearchLabel']['value']);datasetPropNode=datasetNode.substring(0,datasetNode.indexOf(\":\")+1)+datasetProp.substring(0,datasetProp.indexOf(\":\"));if(!tmpD3Graph.nodes.includes(datasetNode)){tmpD3Graph.nodes.push({id:datasetNode,group:getGroupFromPrefixedUri(datasetNode)});}if(!tmpD3Graph.nodes.includes(datasetPropNode)){tmpD3Graph.nodes.push({id:datasetPropNode,group:getGroupFromPrefixedUri(datasetPropNode)});}tmpD3Graph.links.push({source:datasetNode,target:datasetPropNode,value:1});}}}console.log('tmpD3Graph:',tmpD3Graph);setD3Graph(tmpD3Graph);_context.next=24;break;case 21:_context.prev=21;_context.t0=_context[\"catch\"](0);console.log('Error:',_context.t0);case 24:case\"end\":return _context.stop();}},_callee,null,[[0,21]]);}));return _buildExplanationsForDiscoveryOfDatasetsFromDescAndTitle.apply(this,arguments);}var canvasRef=useRef(null);// The force simulation mutates links and nodes, so create a copy first\n// Node positions are initialized by d3\nvar links=d3Graph.links.map(function(d){return _objectSpread({},d);});var nodes=d3Graph.nodes.map(function(d){return _objectSpread({},d);});useEffect(function(){if(d3Graph.nodes.length===0){buildExplanationsForDiscoveryOfDatasetsFromDescAndTitle();}else{// The force simulation mutates links and nodes, so create a copy first\n// Node positions are initialized by d3\nd3Graph.links.map(function(d){return _objectSpread({},d);}),_readOnlyError(\"links\");d3Graph.nodes.map(function(d){return _objectSpread({},d);}),_readOnlyError(\"nodes\");var canvas=canvasRef.current;var context=canvas===null||canvas===void 0?void 0:canvas.getContext('2d');if(!context){return;}// run d3-force to find the position of nodes on the canvas\nd3.forceSimulation(nodes)// list of forces we apply to get node positions\n.force('link',d3.forceLink(links).id(function(d){return d.id;})// Force #1: links between nodes\n).force('collide',d3.forceCollide().radius(RADIUS))// Force #2: avoid node overlaps\n.force('charge',d3.forceManyBody())// Force #3: attraction or repulsion between nodes\n.force('center',d3.forceCenter(width/2,height/2))// Force #4: nodes are attracted by the center of the chart area\n// at each iteration of the simulation, draw the network diagram with the new node positions\n.on('tick',function(){drawNetwork(context,width,height,nodes,links);});}},[width,height,nodes,links]);return/*#__PURE__*/_jsx(\"div\",{children:d3Graph.nodes.length>0?/*#__PURE__*/_jsx(\"canvas\",{ref:canvasRef,style:{width:width,height:height},width:width,height:height}):/*#__PURE__*/_jsx(_Fragment,{})});}","map":{"version":3,"names":["d3","useEffect","useState","useRef","RADIUS","drawNetwork","React","jsx","_jsx","Fragment","_Fragment","DatasetDiscoveryExplainedGraph","kbUri","termInfo","arguments","length","undefined","term","width","height","prefix2uri","getPrefixFromUri","resourceUri","Object","entries","map","_ref","_ref2","_slicedToArray","prefixKey","prefixUri","includes","getPrefixedUri","prefix","get","replace","prefix2group","getGroupFromPrefixedUri","prefixedUri","split","_useState","nodes","links","_useState2","d3Graph","setD3Graph","buildExplanationsForDiscoveryOfDatasetsFromDescAndTitle","_buildExplanationsForDiscoveryOfDatasetsFromDescAndTitle","apply","_asyncToGenerator","_regeneratorRuntime","mark","_callee","queryTxt","response","jsonData","subjects","properties","objects","tmpD3Graph","datasetNode","datasetProp","litMentioningSearchLabel","datasetPropNode","wrap","_callee$","_context","prev","next","console","log","_templateObject2","_taggedTemplateLiteral","_templateObject","_templateObject4","_templateObject3","toString","fetch","method","credentials","headers","withCredentials","redirect","referrerPolicy","body","sent","json","results","bindings","substring","indexOf","push","id","group","source","target","value","t0","stop","canvasRef","d","_objectSpread","_readOnlyError","canvas","current","context","getContext","forceSimulation","force","forceLink","forceCollide","radius","forceManyBody","forceCenter","on","children","ref","style"],"sources":["/home/vincentarmant/workspace/nodejs/react-restapi-call/src/components/DatasetDiscoveryExplainedGraph.js"],"sourcesContent":["import * as d3 from 'd3';\nimport { useEffect, useState, useRef } from \"react\";\nimport { RADIUS, drawNetwork } from './drawNetwork';\nimport React from 'react';\n\n\n\nexport default function DatasetDiscoveryExplainedGraph (kbUri, termInfo={term:'atmosphere'}, width,height){\n\n    const prefix2uri = {\n        'skos:':'http://www.w3.org/2004/02/skos/core#',\n        'sosa:': 'http://www.w3.org/ns/sosa/',\n        'ucmm:':'http://purl.org/ucmm#',\n        'rdf:': 'http://www.w3.org/1999/02/22-rdf-syntax-ns#',\n        'dcat:':'http://www.w3.org/ns/dcat#',\n        'dcterms:':'http://purl.org/dc/terms/',\n\n        'i1:':'http://example.org/b2a5ed57-5c4e-4596-b803-d2ac7f5b9991#',\n        'i2:':'http://example.org/51824c86-ae0f-442f-9df2-e86244984ba3#',\n        'i3:':'http://example.org/97b4842b-94b3-4205-8781-476813d8177b#',\n        'i4:':'http://example.org/e747d804-a5d1-4fd1-bd9b-306a8ebd4904#',\n        'i5': 'http://example.org/de5b570a-b560-4e84-a755-52c2aa499874#',\n        'i6': '<http://example.org/3df904de-e47d-4bf9-85a0-7c0942aff8b6#',\n        'i7': 'http://example.org/BDML_TCHR#',\n        'i8': 'http://example.org/4f676524-a831-41fe-9afb-d95f4e7597e3#',\n        'i9': 'http://example.org/f4968943-ad6f-4563-a737-58fe3285fb3c#',\n        'i10': 'http://example.org/17e24931-ccd6-4de0-a01c-9ffb3be88461#'\n    };\n\n    function getPrefixFromUri(resourceUri){\n\n        Object.entries(prefix2uri).map( ([prefixKey,prefixUri]) => {\n            if(resourceUri.includes(prefixUri)){\n                return prefixKey\n            }\n        })\n        return('');\n\n    }\n    \n    function getPrefixedUri(resourceUri){\n        const prefix = getPrefixFromUri(resourceUri);\n        if(prefix==='')\n            return resourceUri;\n        const prefixUri = prefix2uri.get(prefix);\n        return resourceUri.replace(prefixUri,prefix);\n    }\n\n    const prefix2group ={ // THEAI ODATIS FORMATER AERIS\n        'i1:': 1,\n        'i2:': 1,\n        'i3:': 1,\n        'i4:': 2,\n        'i5:': 2,\n        'i6:': 2,\n        'i7:': 3,\n        'i8:': 3,\n        'i9.:': 3,\n        'i10:': 3,\n    }\n\n    function getGroupFromPrefixedUri(prefixedUri){\n        const prefix= prefixedUri.split(\":\")[0]+\":\";\n        if(!prefix2group[prefix]===undefined){\n            return prefix2group[prefix];\n        }else{\n            return 4;\n        }\n    }\n\n\n    const [d3Graph,setD3Graph]= useState({\n        nodes:[\n            // {\n            //     id: String,\n            //     group:Int32Array,\n            // }\n        ],\n        links:[\n            // {\n            //     source: String,\n            //     target: String,\n            //     value: Int16Array\n            // }\n        ]\n    });\n\n    // Todo instanciate in case of several graph manipulations\n    // const [spod,setSPOD]= useState({\n    //     subjects: [],\n    //     properties: [],\n    //     objects: [],\n    //     d3LinkIndexes: [] //\n    // });\n\n\n    async function buildExplanationsForDiscoveryOfDatasetsFromDescAndTitle ()   {\n\n        try {  \n\n            console.log()\n            console.log('kbUri : ',kbUri);\n            console.log('termInfo.term : ',termInfo.term);\n\n            const queryTxt = (``` PREFIX skos: <http://www.w3.org/2004/02/skos/core#> \n            PREFIX sosa: <http://www.w3.org/ns/sosa/> \n            PREFIX ucmm: <http://purl.org/ucmm#> \n            PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> \n            PREFIX dcat: <http://www.w3.org/ns/dcat#> \n            PREFIX dcterms: <http://purl.org/dc/terms/> \n            SELECT DISTINCT ?dataset ?datasetProp ?litMentioningSearchLabel\n            WHERE{\n              VALUES ?datasetProp {dcterms:description dcterms:title}\n              ?dataset rdf:type dcat:Dataset . \n              ?dataset ?datasetProp ?litMentioningSearchLabel. \n              FILTER ( \n                regex(?litMentioningSearchLabel,\"```+termInfo.term+```\",\"i\") \n              )\n              FILTER (\n                lang(?litMentioningSearchLabel)=\"en\"\n              )\n            }```.toString()).replace('\\n',' ');\n\n            const response = await fetch(kbUri,{\n                method: \"POST\",\n                credentials: \"same-origin\",\n                headers:{\n                    \"Content-Type\": 'application/x-www-form-urlencoded',\n                    \"xhrFields\": {withCredentials: true},\n                    \"Accept\" : \"application/json\",\n                },\n                redirect: \"follow\",\n                referrerPolicy: \"no-referrer\",\n                body: \"query=\"+ queryTxt\n            }\n            )            \n            \n            const jsonData = await response.json();\n            \n            console.log('jsonData:', jsonData);\n            \n            let subjects= [];\n            let properties = [];\n            let objects = [];\n\n            const tmpD3Graph = d3Graph;\n\n            if(jsonData){\n\n                if(jsonData.results){\n                    if(jsonData.results.bindings){\n\n                        const datasetNode =  getPrefixedUri(jsonData.results.bindings['dataset']['value']);\n                        const datasetProp = getPrefixedUri(jsonData.results.bindings['datasetProp']['value']);\n                        const litMentioningSearchLabel= getPrefixedUri(jsonData.results.bindings['litMentioningSearchLabel']['value']);\n\n                        const datasetPropNode = datasetNode.substring(0,datasetNode.indexOf(\":\")+1)\n                        + datasetProp.substring(0,datasetProp.indexOf(\":\"));\n                        \n                        if(!tmpD3Graph.nodes.includes(datasetNode)){\n                            tmpD3Graph.nodes.push({\n                                id: datasetNode,\n                                group: getGroupFromPrefixedUri(datasetNode)\n                            });\n                        }\n\n                        if(!tmpD3Graph.nodes.includes(datasetPropNode)){\n                            tmpD3Graph.nodes.push({\n                                id: datasetPropNode,\n                                group: getGroupFromPrefixedUri(datasetPropNode)\n                            });\n                        }\n\n                        tmpD3Graph.links.push({\n                            source: datasetNode,\n                            target: datasetPropNode,\n                            value: 1\n                        })\n\n\n                    }}\n\n            }\n\n            console.log('tmpD3Graph:', tmpD3Graph);\n            setD3Graph(tmpD3Graph);\n             \n        } catch (error) {\n            console.log('Error:', error);\n            \n        }\n    }\n\n    const canvasRef = useRef(null);\n\n    // The force simulation mutates links and nodes, so create a copy first\n    // Node positions are initialized by d3\n    const links= d3Graph.links.map((d) => ({ ...d }));\n    const nodes= d3Graph.nodes.map((d) => ({ ...d }));\n\n    useEffect(() =>{\n\n            if(d3Graph.nodes.length===0){\n                buildExplanationsForDiscoveryOfDatasetsFromDescAndTitle();\n            }else{\n                \n                // The force simulation mutates links and nodes, so create a copy first\n                // Node positions are initialized by d3\n                links= d3Graph.links.map((d) => ({ ...d }));\n                nodes= d3Graph.nodes.map((d) => ({ ...d }));\n\n                const canvas = canvasRef.current;\n                const context = canvas?.getContext('2d');\n\n                if (!context) {\n                return;\n                }\n\n                // run d3-force to find the position of nodes on the canvas\n                d3.forceSimulation(nodes)\n\n                // list of forces we apply to get node positions\n                .force(\n                'link',\n                d3.forceLink(links).id((d) => d.id) // Force #1: links between nodes\n                )\n                .force('collide', d3.forceCollide().radius(RADIUS)) // Force #2: avoid node overlaps\n                .force('charge', d3.forceManyBody()) // Force #3: attraction or repulsion between nodes\n                .force('center', d3.forceCenter(width / 2, height / 2)) // Force #4: nodes are attracted by the center of the chart area\n\n                // at each iteration of the simulation, draw the network diagram with the new node positions\n                .on('tick', () => {\n                drawNetwork(context, width, height, nodes, links);\n                });\n            }\n        }, [width, height, nodes, links]\n    );\n\n    return(\n        <div>\n            {d3Graph.nodes.length>0?(\n                <canvas\n                    ref={canvasRef}\n                    style={{\n                        width,\n                        height\n                    }}\n                    width={width}\n                    height={height}\n                />\n            ):(\n                <></>\n            )\n            }\n        </div>\n    )\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}